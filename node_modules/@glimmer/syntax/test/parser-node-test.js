'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.strip = strip;

var _ = require('..');

var _support = require('./support');

const test = QUnit.test;
QUnit.module('[glimmer-syntax] Parser - AST');
test('a simple piece of content', function () {
    let t = 'some content';
    (0, _support.astEqual)(t, _.builders.program([_.builders.text('some content')]));
});
test('self-closed element', function () {
    let t = '<g />';
    (0, _support.astEqual)(t, _.builders.program([_.builders.element('g/')]));
});
test('elements can have empty attributes', function () {
    let t = '<img id="">';
    (0, _support.astEqual)(t, _.builders.program([_.builders.element('img', { attrs: [_.builders.attr('id', _.builders.text(''))] })]));
});
test('disallowed quote in element space is rejected', function (assert) {
    let t = '<img foo="bar"" >';
    assert.throws(() => {
        (0, _.preprocess)(t);
    }, /Syntax error at line 1 col 14: " is not a valid character within attribute names/);
});
test('disallowed equals sign in element space is rejected', function (assert) {
    let t = '<img =foo >';
    assert.throws(() => {
        (0, _.preprocess)(t);
    }, /Syntax error at line 1 col 5: attribute name cannot start with equals sign/);
});
test('svg content', function () {
    let t = '<svg></svg>';
    (0, _support.astEqual)(t, _.builders.program([_.builders.element('svg')]));
});
test('html content with html content inline', function () {
    let t = '<div><p></p></div>';
    (0, _support.astEqual)(t, _.builders.program([_.builders.element('div', ['body', _.builders.element('p')])]));
});
test('html content with svg content inline', function () {
    let t = '<div><svg></svg></div>';
    (0, _support.astEqual)(t, _.builders.program([_.builders.element('div', ['body', _.builders.element('svg')])]));
});
let integrationPoints = ['foreignObject', 'desc'];
function buildIntegrationPointTest(integrationPoint) {
    return function integrationPointTest() {
        let t = '<svg><' + integrationPoint + '><div></div></' + integrationPoint + '></svg>';
        (0, _support.astEqual)(t, _.builders.program([_.builders.element('svg', ['body', _.builders.element(integrationPoint, ['body', _.builders.element('div')])])]));
    };
}
for (let i = 0, length = integrationPoints.length; i < length; i++) {
    test('svg content with html content inline for ' + integrationPoints[i], buildIntegrationPointTest(integrationPoints[i]));
}
test('svg title with html content', function () {
    let t = '<svg><title><div></div></title></svg>';
    (0, _support.astEqual)(t, _.builders.program([_.builders.element('svg', ['body', _.builders.element('title', ['body', _.builders.text('<div></div>')])])]));
});
test('a piece of content with HTML', function () {
    let t = 'some <div>content</div> done';
    (0, _support.astEqual)(t, _.builders.program([_.builders.text('some '), _.builders.element('div', ['body', _.builders.text('content')]), _.builders.text(' done')]));
});
test('a piece of Handlebars with HTML', function () {
    let t = 'some <div>{{content}}</div> done';
    (0, _support.astEqual)(t, _.builders.program([_.builders.text('some '), _.builders.element('div', ['body', _.builders.mustache(_.builders.path('content'))]), _.builders.text(' done')]));
});
test('Handlebars embedded in an attribute (quoted)', function () {
    let t = 'some <div class="{{foo}}">content</div> done';
    (0, _support.astEqual)(t, _.builders.program([_.builders.text('some '), _.builders.element('div', ['attrs', ['class', _.builders.concat([_.builders.mustache('foo')])]], ['body', _.builders.text('content')]), _.builders.text(' done')]));
});
test('Handlebars embedded in an attribute (unquoted)', function () {
    let t = 'some <div class={{foo}}>content</div> done';
    (0, _support.astEqual)(t, _.builders.program([_.builders.text('some '), _.builders.element('div', ['attrs', ['class', _.builders.mustache(_.builders.path('foo'))]], ['body', _.builders.text('content')]), _.builders.text(' done')]));
});
test('Handlebars embedded in an attribute of a self-closing tag (unqouted)', function () {
    let t = '<input value={{foo}}/>';
    let element = _.builders.element('input/', ['attrs', ['value', _.builders.mustache(_.builders.path('foo'))]]);
    (0, _support.astEqual)(t, _.builders.program([element]));
});
test('Handlebars embedded in an attribute (sexprs)', function () {
    let t = 'some <div class="{{foo (foo "abc")}}">content</div> done';
    (0, _support.astEqual)(t, _.builders.program([_.builders.text('some '), _.builders.element('div', ['attrs', ['class', _.builders.concat([_.builders.mustache(_.builders.path('foo'), [_.builders.sexpr(_.builders.path('foo'), [_.builders.string('abc')])])])]], ['body', _.builders.text('content')]), _.builders.text(' done')]));
});
test('Handlebars embedded in an attribute with other content surrounding it', function () {
    let t = 'some <a href="http://{{link}}/">content</a> done';
    (0, _support.astEqual)(t, _.builders.program([_.builders.text('some '), _.builders.element('a', ['attrs', ['href', _.builders.concat([_.builders.text('http://'), _.builders.mustache('link'), _.builders.text('/')])]], ['body', _.builders.text('content')]), _.builders.text(' done')]));
});
test('A more complete embedding example', function () {
    let t = "{{embed}} {{some 'content'}} " + "<div class='{{foo}} {{bind-class isEnabled truthy='enabled'}}'>{{ content }}</div>" + " {{more 'embed'}}";
    (0, _support.astEqual)(t, _.builders.program([_.builders.mustache(_.builders.path('embed')), _.builders.text(' '), _.builders.mustache(_.builders.path('some'), [_.builders.string('content')]), _.builders.text(' '), _.builders.element('div', ['attrs', ['class', _.builders.concat([_.builders.mustache('foo'), _.builders.text(' '), _.builders.mustache('bind-class', [_.builders.path('isEnabled')], _.builders.hash([_.builders.pair('truthy', _.builders.string('enabled'))]))])]], ['body', _.builders.mustache(_.builders.path('content'))]), _.builders.text(' '), _.builders.mustache(_.builders.path('more'), [_.builders.string('embed')])]));
});
test('Simple embedded block helpers', function () {
    let t = '{{#if foo}}<div>{{content}}</div>{{/if}}';
    (0, _support.astEqual)(t, _.builders.program([_.builders.block(_.builders.path('if'), [_.builders.path('foo')], _.builders.hash(), _.builders.blockItself([_.builders.element('div', ['body', _.builders.mustache(_.builders.path('content'))])]))]));
});
test('Involved block helper', function () {
    let t = '<p>hi</p> content {{#testing shouldRender}}<p>Appears!</p>{{/testing}} more <em>content</em> here';
    (0, _support.astEqual)(t, _.builders.program([_.builders.element('p', ['body', _.builders.text('hi')]), _.builders.text(' content '), _.builders.block(_.builders.path('testing'), [_.builders.path('shouldRender')], _.builders.hash(), _.builders.blockItself([_.builders.element('p', ['body', _.builders.text('Appears!')])])), _.builders.text(' more '), _.builders.element('em', ['body', _.builders.text('content')]), _.builders.text(' here')]));
});
test('Element modifiers', function () {
    let t = "<p {{action 'boom'}} class='bar'>Some content</p>";
    (0, _support.astEqual)(t, _.builders.program([_.builders.element('p', ['attrs', ['class', 'bar']], ['modifiers', ['action', [_.builders.string('boom')]]], ['body', _.builders.text('Some content')])]));
});
test('Tokenizer: MustacheStatement encountered in beforeAttributeName state', function () {
    let t = '<input {{bar}}>';
    (0, _support.astEqual)(t, _.builders.program([_.builders.element('input', ['modifiers', 'bar'])]));
});
test('Tokenizer: MustacheStatement encountered in attributeName state', function () {
    let t = '<input foo{{bar}}>';
    (0, _support.astEqual)(t, _.builders.program([_.builders.element('input', ['attrs', ['foo', '']], ['modifiers', ['bar']])]));
});
test('Tokenizer: MustacheStatement encountered in afterAttributeName state', function () {
    let t = '<input foo {{bar}}>';
    (0, _support.astEqual)(t, _.builders.program([_.builders.element('input', ['attrs', ['foo', '']], ['modifiers', 'bar'])]));
});
test('Tokenizer: MustacheStatement encountered in afterAttributeValue state', function () {
    let t = '<input foo=1 {{bar}}>';
    (0, _support.astEqual)(t, _.builders.program([_.builders.element('input', ['attrs', ['foo', '1']], ['modifiers', ['bar']])]));
});
test('Tokenizer: MustacheStatement encountered in afterAttributeValueQuoted state', function () {
    let t = "<input foo='1'{{bar}}>";
    (0, _support.astEqual)(t, _.builders.program([_.builders.element('input', ['attrs', ['foo', '1']], ['modifiers', 'bar'])]));
});
test('Stripping - mustaches', function () {
    let t = 'foo {{~content}} bar';
    (0, _support.astEqual)(t, _.builders.program([_.builders.text('foo'), _.builders.mustache(_.builders.path('content'), undefined, undefined, undefined, undefined, {
        open: true,
        close: false
    }), _.builders.text(' bar')]));
    t = 'foo {{content~}} bar';
    (0, _support.astEqual)(t, _.builders.program([_.builders.text('foo '), _.builders.mustache(_.builders.path('content'), undefined, undefined, undefined, undefined, {
        open: false,
        close: true
    }), _.builders.text('bar')]));
});
test('Stripping - blocks', function () {
    let t = 'foo {{~#wat}}{{/wat}} bar';
    (0, _support.astEqual)(t, _.builders.program([_.builders.text('foo'), _.builders.block(_.builders.path('wat'), [], _.builders.hash(), _.builders.blockItself(), undefined, undefined, {
        open: true,
        close: false
    }), _.builders.text(' bar')]));
    t = 'foo {{#wat}}{{/wat~}} bar';
    (0, _support.astEqual)(t, _.builders.program([_.builders.text('foo '), _.builders.block(_.builders.path('wat'), [], _.builders.hash(), _.builders.blockItself(), undefined, undefined, undefined, undefined, { open: false, close: true }), _.builders.text('bar')]));
});
test('Stripping - programs', function () {
    let t = '{{#wat~}} foo {{else}}{{/wat}}';
    (0, _support.astEqual)(t, _.builders.program([_.builders.block(_.builders.path('wat'), [], _.builders.hash(), _.builders.blockItself([_.builders.text('foo ')]), _.builders.blockItself(), undefined, { open: false, close: true })]));
    t = '{{#wat}} foo {{~else}}{{/wat}}';
    (0, _support.astEqual)(t, _.builders.program([_.builders.block(_.builders.path('wat'), [], _.builders.hash(), _.builders.blockItself([_.builders.text(' foo')]), _.builders.blockItself(), undefined, undefined, { open: true, close: false })]));
    t = '{{#wat}}{{else~}} foo {{/wat}}';
    (0, _support.astEqual)(t, _.builders.program([_.builders.block(_.builders.path('wat'), [], _.builders.hash(), _.builders.blockItself(), _.builders.blockItself([_.builders.text('foo ')]), undefined, undefined, { open: false, close: true })]));
    t = '{{#wat}}{{else}} foo {{~/wat}}';
    (0, _support.astEqual)(t, _.builders.program([_.builders.block(_.builders.path('wat'), [], _.builders.hash(), _.builders.blockItself(), _.builders.blockItself([_.builders.text(' foo')]), undefined, undefined, undefined, { open: true, close: false })]));
});
test('Stripping - removes unnecessary text nodes', function () {
    let t = '{{#each~}}\n  <li> foo </li>\n{{~/each}}';
    (0, _support.astEqual)(t, _.builders.program([_.builders.block(_.builders.path('each'), [], _.builders.hash(), _.builders.blockItself([_.builders.element('li', ['body', _.builders.text(' foo ')])]), null, undefined, { open: false, close: true }, undefined, { open: true, close: false })]));
});
test('Whitespace control - linebreaks after blocks removed by default', function () {
    let t = '{{#each}}\n  <li> foo </li>\n{{/each}}';
    (0, _support.astEqual)(t, _.builders.program([_.builders.block(_.builders.path('each'), [], _.builders.hash(), _.builders.blockItself([_.builders.text('  '), _.builders.element('li', ['body', _.builders.text(' foo ')]), _.builders.text('\n')]), null)]));
});
test('Whitespace control - preserve all whitespace if config is set', function () {
    let t = '{{#each}}\n  <li> foo </li>\n{{/each}}';
    (0, _support.astEqual)(t, _.builders.program([_.builders.block(_.builders.path('each'), [], _.builders.hash(), _.builders.blockItself([_.builders.text('\n  '), _.builders.element('li', ['body', _.builders.text(' foo ')]), _.builders.text('\n')]), null)]), undefined, {
        parseOptions: { ignoreStandalone: true }
    });
});
// TODO: Make these throw an error.
//test("Awkward mustache in unquoted attribute value", function() {
//  let t = "<div class=a{{foo}}></div>";
//  astEqual(t, b.program([
//    b.element('div', [ b.attr('class', concat([b.string("a"), b.sexpr([b.path('foo')])])) ])
//  ]));
//
//  t = "<div class=a{{foo}}b></div>";
//  astEqual(t, b.program([
//    b.element('div', [ b.attr('class', concat([b.string("a"), b.sexpr([b.path('foo')]), b.string("b")])) ])
//  ]));
//
//  t = "<div class={{foo}}b></div>";
//  astEqual(t, b.program([
//    b.element('div', [ b.attr('class', concat([b.sexpr([b.path('foo')]), b.string("b")])) ])
//  ]));
//});
test('an HTML comment', function () {
    let t = 'before <!-- some comment --> after';
    (0, _support.astEqual)(t, _.builders.program([_.builders.text('before '), _.builders.comment(' some comment '), _.builders.text(' after')]));
});
test('a Handlebars comment inside an HTML comment', function () {
    let t = 'before <!-- some {{! nested thing }} comment --> after';
    (0, _support.astEqual)(t, _.builders.program([_.builders.text('before '), _.builders.comment(' some {{! nested thing }} comment '), _.builders.text(' after')]));
});
test('a Handlebars comment', function () {
    let t = 'before {{! some comment }} after';
    (0, _support.astEqual)(t, _.builders.program([_.builders.text('before '), _.builders.mustacheComment(' some comment '), _.builders.text(' after')]));
});
test('a Handlebars comment in proper element space', function () {
    let t = 'before <div {{! some comment }} data-foo="bar" {{! other comment }}></div> after';
    (0, _support.astEqual)(t, _.builders.program([_.builders.text('before '), _.builders.element('div', ['attrs', ['data-foo', _.builders.text('bar')]], ['comments', _.builders.mustacheComment(' some comment '), _.builders.mustacheComment(' other comment ')]), _.builders.text(' after')]));
});
test('a Handlebars comment in invalid element space', function (assert) {
    assert.throws(() => {
        (0, _.preprocess)('\nbefore <div \n  a{{! some comment }} data-foo="bar"></div> after');
    }, /Using a Handlebars comment when in the `attributeName` state is not supported: " some comment " on line 3:3/);
    assert.throws(() => {
        (0, _.preprocess)('\nbefore <div \n  a={{! some comment }} data-foo="bar"></div> after');
    }, /Using a Handlebars comment when in the `beforeAttributeValue` state is not supported: " some comment " on line 3:4/);
    assert.throws(() => {
        (0, _.preprocess)('\nbefore <div \n  a="{{! some comment }}" data-foo="bar"></div> after');
    }, /Using a Handlebars comment when in the `attributeValueDoubleQuoted` state is not supported: " some comment " on line 3:5/);
});
test('allow {{null}} to be passed as helper name', function () {
    let ast = (0, _.preprocess)('{{null}}');
    (0, _support.astEqual)(ast, _.builders.program([_.builders.mustache(_.builders.null())]));
});
test('allow {{null}} to be passed as a param', function () {
    let ast = (0, _.preprocess)('{{foo null}}');
    (0, _support.astEqual)(ast, _.builders.program([_.builders.mustache(_.builders.path('foo'), [_.builders.null()])]));
});
test('allow {{undefined}} to be passed as helper name', function () {
    let ast = (0, _.preprocess)('{{undefined}}');
    (0, _support.astEqual)(ast, _.builders.program([_.builders.mustache(_.builders.undefined())]));
});
test('allow {{undefined}} to be passed as a param', function () {
    let ast = (0, _.preprocess)('{{foo undefined}}');
    (0, _support.astEqual)(ast, _.builders.program([_.builders.mustache(_.builders.path('foo'), [_.builders.undefined()])]));
});
test('Handlebars partial should error', function (assert) {
    assert.throws(() => {
        (0, _.preprocess)('{{> foo}}');
    }, Error(`Handlebars partials are not supported: "{{> foo" at L1:C0`));
});
test('Handlebars partial block should error', function (assert) {
    assert.throws(() => {
        (0, _.preprocess)('{{#> foo}}{{/foo}}');
    }, new Error(`Handlebars partial blocks are not supported: "{{#> foo" at L1:C0`));
});
test('Handlebars decorator should error', function (assert) {
    assert.throws(() => {
        (0, _.preprocess)('{{* foo}}');
    }, new Error(`Handlebars decorators are not supported: "{{* foo" at L1:C0`));
});
test('Handlebars decorator block should error', function (assert) {
    assert.throws(() => {
        (0, _.preprocess)('{{#* foo}}{{/foo}}');
    }, new Error(`Handlebars decorator blocks are not supported: "{{#* foo" at L1:C0`));
});
test('disallowed mustaches in the tagName space', function (assert) {
    assert.throws(() => {
        (0, _.preprocess)('<{{"asdf"}}></{{"asdf"}}>');
    }, /Cannot use mustaches in an elements tagname: `{{"asdf"` at L1:C1/);
    assert.throws(() => {
        (0, _.preprocess)('<input{{bar}}>');
    }, /Cannot use mustaches in an elements tagname: `{{bar` at L1:C6/);
});
test('mustache immediately followed by self closing tag does not error', function () {
    let ast = (0, _.preprocess)('<FooBar data-foo={{blah}}/>');
    let element = _.builders.element('FooBar/', ['attrs', ['data-foo', _.builders.mustache('blah')]]);
    (0, _support.astEqual)(ast, _.builders.program([element]));
});
QUnit.dump.maxDepth = 100;
test('named blocks', () => {
    let ast = (0, _.preprocess)(strip`
    <Tab>
      <:header>
        It's a header!
      </:header>

      <:body as |contents|>
        <div>{{contents}}</div>
      </:body>
    </Tab>
  `);
    let element = _.builders.element('Tab', ['body', _.builders.element(':header', ['body', _.builders.text(`It's a header!`)]), _.builders.element(':body', ['body', _.builders.element('div', ['body', _.builders.mustache('contents')])], ['as', 'contents'])]);
    (0, _support.astEqual)(ast, _.builders.program([element]));
});
test('path expression with "dangling dot" throws error', function (assert) {
    assert.throws(() => {
        (0, _.preprocess)('{{if foo. bar baz}}');
    }, /'\.' is not a supported path in Glimmer; check for a path with a trailing '\.' at L1:C8/);
});
function strip(strings, ...args) {
    return strings.map((str, i) => {
        return `${str.split('\n').map(s => s.trim()).join('')}${args[i] ? args[i] : ''}`;
    }).join('');
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3BhY2thZ2VzL0BnbGltbWVyL3N5bnRheC90ZXN0L3BhcnNlci1ub2RlLXRlc3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7UUEyb0JnQixLLEdBQUEsSzs7OztBQXpvQmhCOztBQUVBLE1BQU0sT0FBTyxNQUFNLElBQW5CO0FBRUEsTUFBTSxNQUFOLENBQWEsK0JBQWI7QUFFQSxLQUFLLDJCQUFMLEVBQWtDLFlBQUE7QUFDaEMsUUFBSSxJQUFJLGNBQVI7QUFDQSwyQkFBUyxDQUFULEVBQVksV0FBRSxPQUFGLENBQVUsQ0FBQyxXQUFFLElBQUYsQ0FBTyxjQUFQLENBQUQsQ0FBVixDQUFaO0FBQ0QsQ0FIRDtBQUtBLEtBQUsscUJBQUwsRUFBNEIsWUFBQTtBQUMxQixRQUFJLElBQUksT0FBUjtBQUNBLDJCQUFTLENBQVQsRUFBWSxXQUFFLE9BQUYsQ0FBVSxDQUFDLFdBQUUsT0FBRixDQUFVLElBQVYsQ0FBRCxDQUFWLENBQVo7QUFDRCxDQUhEO0FBS0EsS0FBSyxvQ0FBTCxFQUEyQyxZQUFBO0FBQ3pDLFFBQUksSUFBSSxhQUFSO0FBQ0EsMkJBQVMsQ0FBVCxFQUFZLFdBQUUsT0FBRixDQUFVLENBQUMsV0FBRSxPQUFGLENBQVUsS0FBVixFQUFpQixFQUFFLE9BQU8sQ0FBQyxXQUFFLElBQUYsQ0FBTyxJQUFQLEVBQWEsV0FBRSxJQUFGLENBQU8sRUFBUCxDQUFiLENBQUQsQ0FBVCxFQUFqQixDQUFELENBQVYsQ0FBWjtBQUNELENBSEQ7QUFLQSxLQUFLLCtDQUFMLEVBQXNELFVBQVMsTUFBVCxFQUFlO0FBQ25FLFFBQUksSUFBSSxtQkFBUjtBQUNBLFdBQU8sTUFBUCxDQUFjLE1BQUs7QUFDakIsMEJBQU0sQ0FBTjtBQUNELEtBRkQsRUFFRyxrRkFGSDtBQUdELENBTEQ7QUFPQSxLQUFLLHFEQUFMLEVBQTRELFVBQVMsTUFBVCxFQUFlO0FBQ3pFLFFBQUksSUFBSSxhQUFSO0FBQ0EsV0FBTyxNQUFQLENBQWMsTUFB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QixXQUFFLE9BQUYsQ0FBVSxTQUFWLEVBQXFCLENBQUMsTUFBRCxFQUFTLFdBQUUsSUFBRixDQUFPLGdCQUFQLENBQVQsQ0FBckIsQ0FGNkIsRUFHN0IsV0FBRSxPQUFGLENBQ0UsT0FERixFQUVFLENBQUMsTUFBRCxFQUFTLFdBQUUsT0FBRixDQUFVLEtBQVYsRUFBaUIsQ0FBQyxNQUFELEVBQVMsV0FBRSxRQUFGLENBQVcsVUFBWCxDQUFULENBQWpCLENBQVQsQ0FGRixFQUdFLENBQUMsSUFBRCxFQUFPLFVBQVAsQ0FIRixDQUg2QixDQUFqQixDQUFkO0FBU0EsMkJBQVMsR0FBVCxFQUFjLFdBQUUsT0FBRixDQUFVLENBQUMsT0FBRCxDQUFWLENBQWQ7QUFDRCxDQXZCRDtBQXlCQSxLQUFLLGtEQUFMLEVBQXlELFVBQVMsTUFBVCxFQUFlO0FBQ3RFLFdBQU8sTUFBUCxDQUFjLE1BQUs7QUFDakIsMEJBQU0scUJBQU47QUFDRCxLQUZELEVBRUcseUZBRkg7QUFHRCxDQUpEO0FBTU0sU0FBVSxLQUFWLENBQWdCLE9BQWhCLEVBQStDLEdBQUcsSUFBbEQsRUFBZ0U7QUFDcEUsV0FBTyxRQUNKLEdBREksQ0FDQSxDQUFDLEdBQUQsRUFBYyxDQUFkLEtBQTJCO0FBQzlCLGVBQU8sR0FBRyxJQUNQLEtBRE8sQ0FDRCxJQURDLEVBRVAsR0FGTyxDQUVILEtBQUssRUFBRSxJQUFGLEVBRkYsRUFHUCxJQUhPLENBR0YsRUFIRSxDQUdDLEdBQUcsS0FBSyxDQUFMLElBQVUsS0FBSyxDQUFMLENBQVYsR0FBb0IsRUFBRSxFQUhwQztBQUlELEtBTkksRUFPSixJQVBJLENBT0MsRUFQRCxDQUFQO0FBUUQiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwcmVwcm9jZXNzIGFzIHBhcnNlLCBidWlsZGVycyBhcyBiIH0gZnJvbSAnLi4nO1xuXG5pbXBvcnQgeyBhc3RFcXVhbCB9IGZyb20gJy4vc3VwcG9ydCc7XG5cbmNvbnN0IHRlc3QgPSBRVW5pdC50ZXN0O1xuXG5RVW5pdC5tb2R1bGUoJ1tnbGltbWVyLXN5bnRheF0gUGFyc2VyIC0gQVNUJyk7XG5cbnRlc3QoJ2Egc2ltcGxlIHBpZWNlIG9mIGNvbnRlbnQnLCBmdW5jdGlvbigpIHtcbiAgbGV0IHQgPSAnc29tZSBjb250ZW50JztcbiAgYXN0RXF1YWwodCwgYi5wcm9ncmFtKFtiLnRleHQoJ3NvbWUgY29udGVudCcpXSkpO1xufSk7XG5cbnRlc3QoJ3NlbGYtY2xvc2VkIGVsZW1lbnQnLCBmdW5jdGlvbigpIHtcbiAgbGV0IHQgPSAnPGcgLz4nO1xuICBhc3RFcXVhbCh0LCBiLnByb2dyYW0oW2IuZWxlbWVudCgnZy8nKV0pKTtcbn0pO1xuXG50ZXN0KCdlbGVtZW50cyBjYW4gaGF2ZSBlbXB0eSBhdHRyaWJ1dGVzJywgZnVuY3Rpb24oKSB7XG4gIGxldCB0ID0gJzxpbWcgaWQ9XCJcIj4nO1xuICBhc3RFcXVhbCh0LCBiLnByb2dyYW0oW2IuZWxlbWVudCgnaW1nJywgeyBhdHRyczogW2IuYXR0cignaWQnLCBiLnRleHQoJycpKV0gfSldKSk7XG59KTtcblxudGVzdCgnZGlzYWxsb3dlZCBxdW90ZSBpbiBlbGVtZW50IHNwYWNlIGlzIHJlamVjdGVkJywgZnVuY3Rpb24oYXNzZXJ0KSB7XG4gIGxldCB0ID0gJzxpbWcgZm9vPVwiYmFyXCJcIiA+JztcbiAgYXNzZXJ0LnRocm93cygoKSA9PiB7XG4gICAgcGFyc2UodCk7XG4gIH0sIC9TeW50YXggZXJyb3IgYXQgbGluZSAxIGNvbCAxNDogXCIgaXMgbm90IGEgdmFsaWQgY2hhcmFjdGVyIHdpdGhpbiBhdHRyaWJ1dGUgbmFtZXMvKTtcbn0pO1xuXG50ZXN0KCdkaXNhbGxvd2VkIGVxdWFscyBzaWduIGluIGVsZW1lbnQgc3BhY2UgaXMgcmVqZWN0ZWQnLCBmdW5jdGlvbihhc3NlcnQpIHtcbiAgbGV0IHQgPSAnPGltZyA9Zm9vID4nO1xuICBhc3NlcnQudGhyb3dzKCgpID0+IHtcbiAgICBwYXJzZSh0KTtcbiAgfSwgL1N5bnRheCBlcnJvciBhdCBsaW5lIDEgY29sIDU6IGF0dHJpYnV0ZSBuYW1lIGNhbm5vdCBzdGFydCB3aXRoIGVxdWFscyBzaWduLyk7XG59KTtcblxudGVzdCgnc3ZnIGNvbnRlbnQnLCBmdW5jdGlvbigpIHtcbiAgbGV0IHQgPSAnPHN2Zz48L3N2Zz4nO1xuICBhc3RFcXVhbCh0LCBiLnByb2dyYW0oW2IuZWxlbWVudCgnc3ZnJyldKSk7XG59KTtcblxudGVzdCgnaHRtbCBjb250ZW50IHdpdGggaHRtbCBjb250ZW50IGlubGluZScsIGZ1bmN0aW9uKCkge1xuICBsZXQgdCA9ICc8ZGl2PjxwPjwvcD48L2Rpdj4nO1xuICBhc3RFcXVhbCh0LCBiLnByb2dyYW0oW2IuZWxlbWVudCgnZGl2JywgWydib2R5JywgYi5lbGVtZW50KCdwJyldKV0pKTtcbn0pO1xuXG50ZXN0KCdodG1sIGNvbnRlbnQgd2l0aCBzdmcgY29udGVudCBpbmxpbmUnLCBmdW5jdGlvbigpIHtcbiAgbGV0IHQgPSAnPGRpdj48c3ZnPjwvc3ZnPjwvZGl2Pic7XG4gIGFzdEVxdWFsKHQsIGIucHJvZ3JhbShbYi5lbGVtZW50KCdkaXYnLCBbJ2JvZHknLCBiLmVsZW1lbnQoJ3N2ZycpXSldKSk7XG59KTtcblxubGV0IGludGVncmF0aW9uUG9pbnRzID0gWydmb3JlaWduT2JqZWN0JywgJ2Rlc2MnXTtcbmZ1bmN0aW9uIGJ1aWxkSW50ZWdyYXRpb25Qb2ludFRlc3QoaW50ZWdyYXRpb25Qb2ludDogc3RyaW5nKSB7XG4gIHJldHVybiBmdW5jdGlvbiBpbnRlZ3JhdGlvblBvaW50VGVzdCgpIHtcbiAgICBsZXQgdCA9ICc8c3ZnPjwnICsgaW50ZWdyYXRpb25Qb2ludCArICc+PGRpdj48L2Rpdj48LycgKyBpbnRlZ3JhdGlvblBvaW50ICsgJz48L3N2Zz4nO1xuICAgIGFzdEVxdWFsKFxuICAgICAgdCxcbiAgICAgIGIucHJvZ3JhbShbXG4gICAgICAgIGIuZWxlbWVudCgnc3ZnJywgWydib2R5JywgYi5lbGVtZW50KGludGVncmF0aW9uUG9pbnQsIFsnYm9keScsIGIuZWxlbWVudCgnZGl2JyldKV0pLFxuICAgICAgXSlcbiAgICApO1xuICB9O1xufVxuZm9yIChsZXQgaSA9IDAsIGxlbmd0aCA9IGludGVncmF0aW9uUG9pbnRzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gIHRlc3QoXG4gICAgJ3N2ZyBjb250ZW50IHdpdGggaHRtbCBjb250ZW50IGlubGluZSBmb3IgJyArIGludGVncmF0aW9uUG9pbnRzW2ldLFxuICAgIGJ1aWxkSW50ZWdyYXRpb25Qb2ludFRlc3QoaW50ZWdyYXRpb25Qb2ludHNbaV0pXG4gICk7XG59XG5cbnRlc3QoJ3N2ZyB0aXRsZSB3aXRoIGh0bWwgY29udGVudCcsIGZ1bmN0aW9uKCkge1xuICBsZXQgdCA9ICc8c3ZnPjx0aXRsZT48ZGl2PjwvZGl2PjwvdGl0bGU+PC9zdmc+JztcbiAgYXN0RXF1YWwoXG4gICAgdCxcbiAgICBiLnByb2dyYW0oW2IuZWxlbWVudCgnc3ZnJywgWydib2R5JywgYi5lbGVtZW50KCd0aXRsZScsIFsnYm9keScsIGIudGV4dCgnPGRpdj48L2Rpdj4nKV0pXSldKVxuICApO1xufSk7XG5cbnRlc3QoJ2EgcGllY2Ugb2YgY29udGVudCB3aXRoIEhUTUwnLCBmdW5jdGlvbigpIHtcbiAgbGV0IHQgPSAnc29tZSA8ZGl2PmNvbnRlbnQ8L2Rpdj4gZG9uZSc7XG4gIGFzdEVxdWFsKFxuICAgIHQsXG4gICAgYi5wcm9ncmFtKFtiLnRleHQoJ3NvbWUgJyksIGIuZWxlbWVudCgnZGl2JywgWydib2R5JywgYi50ZXh0KCdjb250ZW50JyldKSwgYi50ZXh0KCcgZG9uZScpXSlcbiAgKTtcbn0pO1xuXG50ZXN0KCdhIHBpZWNlIG9mIEhhbmRsZWJhcnMgd2l0aCBIVE1MJywgZnVuY3Rpb24oKSB7XG4gIGxldCB0ID0gJ3NvbWUgPGRpdj57e2NvbnRlbnR9fTwvZGl2PiBkb25lJztcbiAgYXN0RXF1YWwoXG4gICAgdCxcbiAgICBiLnByb2dyYW0oW1xuICAgICAgYi50ZXh0KCdzb21lICcpLFxuICAgICAgYi5lbGVtZW50KCdkaXYnLCBbJ2JvZHknLCBiLm11c3RhY2hlKGIucGF0aCgnY29udGVudCcpKV0pLFxuICAgICAgYi50ZXh0KCcgZG9uZScpLFxuICAgIF0pXG4gICk7XG59KTtcblxudGVzdCgnSGFuZGxlYmFycyBlbWJlZGRlZCBpbiBhbiBhdHRyaWJ1dGUgKHF1b3RlZCknLCBmdW5jdGlvbigpIHtcbiAgbGV0IHQgPSAnc29tZSA8ZGl2IGNsYXNzPVwie3tmb299fVwiPmNvbnRlbnQ8L2Rpdj4gZG9uZSc7XG4gIGFzdEVxdWFsKFxuICAgIHQsXG4gICAgYi5wcm9ncmFtKFtcbiAgICAgIGIudGV4dCgnc29tZSAnKSxcbiAgICAgIGIuZWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIFsnYXR0cnMnLCBbJ2NsYXNzJywgYi5jb25jYXQoW2IubXVzdGFjaGUoJ2ZvbycpXSldXSxcbiAgICAgICAgWydib2R5JywgYi50ZXh0KCdjb250ZW50JyldXG4gICAgICApLFxuICAgICAgYi50ZXh0KCcgZG9uZScpLFxuICAgIF0pXG4gICk7XG59KTtcblxudGVzdCgnSGFuZGxlYmFycyBlbWJlZGRlZCBpbiBhbiBhdHRyaWJ1dGUgKHVucXVvdGVkKScsIGZ1bmN0aW9uKCkge1xuICBsZXQgdCA9ICdzb21lIDxkaXYgY2xhc3M9e3tmb299fT5jb250ZW50PC9kaXY+IGRvbmUnO1xuICBhc3RFcXVhbChcbiAgICB0LFxuICAgIGIucHJvZ3JhbShbXG4gICAgICBiLnRleHQoJ3NvbWUgJyksXG4gICAgICBiLmVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICBbJ2F0dHJzJywgWydjbGFzcycsIGIubXVzdGFjaGUoYi5wYXRoKCdmb28nKSldXSxcbiAgICAgICAgWydib2R5JywgYi50ZXh0KCdjb250ZW50JyldXG4gICAgICApLFxuICAgICAgYi50ZXh0KCcgZG9uZScpLFxuICAgIF0pXG4gICk7XG59KTtcblxudGVzdCgnSGFuZGxlYmFycyBlbWJlZGRlZCBpbiBhbiBhdHRyaWJ1dGUgb2YgYSBzZWxmLWNsb3NpbmcgdGFnICh1bnFvdXRlZCknLCBmdW5jdGlvbigpIHtcbiAgbGV0IHQgPSAnPGlucHV0IHZhbHVlPXt7Zm9vfX0vPic7XG5cbiAgbGV0IGVsZW1lbnQgPSBiLmVsZW1lbnQoJ2lucHV0LycsIFsnYXR0cnMnLCBbJ3ZhbHVlJywgYi5tdXN0YWNoZShiLnBhdGgoJ2ZvbycpKV1dKTtcbiAgYXN0RXF1YWwodCwgYi5wcm9ncmFtKFtlbGVtZW50XSkpO1xufSk7XG5cbnRlc3QoJ0hhbmRsZWJhcnMgZW1iZWRkZWQgaW4gYW4gYXR0cmlidXRlIChzZXhwcnMpJywgZnVuY3Rpb24oKSB7XG4gIGxldCB0ID0gJ3NvbWUgPGRpdiBjbGFzcz1cInt7Zm9vIChmb28gXCJhYmNcIil9fVwiPmNvbnRlbnQ8L2Rpdj4gZG9uZSc7XG4gIGFzdEVxdWFsKFxuICAgIHQsXG4gICAgYi5wcm9ncmFtKFtcbiAgICAgIGIudGV4dCgnc29tZSAnKSxcbiAgICAgIGIuZWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIFtcbiAgICAgICAgICAnYXR0cnMnLFxuICAgICAgICAgIFtcbiAgICAgICAgICAgICdjbGFzcycsXG4gICAgICAgICAgICBiLmNvbmNhdChbYi5tdXN0YWNoZShiLnBhdGgoJ2ZvbycpLCBbYi5zZXhwcihiLnBhdGgoJ2ZvbycpLCBbYi5zdHJpbmcoJ2FiYycpXSldKV0pLFxuICAgICAgICAgIF0sXG4gICAgICAgIF0sXG4gICAgICAgIFsnYm9keScsIGIudGV4dCgnY29udGVudCcpXVxuICAgICAgKSxcbiAgICAgIGIudGV4dCgnIGRvbmUnKSxcbiAgICBdKVxuICApO1xufSk7XG5cbnRlc3QoJ0hhbmRsZWJhcnMgZW1iZWRkZWQgaW4gYW4gYXR0cmlidXRlIHdpdGggb3RoZXIgY29udGVudCBzdXJyb3VuZGluZyBpdCcsIGZ1bmN0aW9uKCkge1xuICBsZXQgdCA9ICdzb21lIDxhIGhyZWY9XCJodHRwOi8ve3tsaW5rfX0vXCI+Y29udGVudDwvYT4gZG9uZSc7XG4gIGFzdEVxdWFsKFxuICAgIHQsXG4gICAgYi5wcm9ncmFtKFtcbiAgICAgIGIudGV4dCgnc29tZSAnKSxcbiAgICAgIGIuZWxlbWVudChcbiAgICAgICAgJ2EnLFxuICAgICAgICBbJ2F0dHJzJywgWydocmVmJywgYi5jb25jYXQoW2IudGV4dCgnaHR0cDovLycpLCBiLm11c3RhY2hlKCdsaW5rJyksIGIudGV4dCgnLycpXSldXSxcbiAgICAgICAgWydib2R5JywgYi50ZXh0KCdjb250ZW50JyldXG4gICAgICApLFxuICAgICAgYi50ZXh0KCcgZG9uZScpLFxuICAgIF0pXG4gICk7XG59KTtcblxudGVzdCgnQSBtb3JlIGNvbXBsZXRlIGVtYmVkZGluZyBleGFtcGxlJywgZnVuY3Rpb24oKSB7XG4gIGxldCB0ID1cbiAgICBcInt7ZW1iZWR9fSB7e3NvbWUgJ2NvbnRlbnQnfX0gXCIgK1xuICAgIFwiPGRpdiBjbGFzcz0ne3tmb299fSB7e2JpbmQtY2xhc3MgaXNFbmFibGVkIHRydXRoeT0nZW5hYmxlZCd9fSc+e3sgY29udGVudCB9fTwvZGl2PlwiICtcbiAgICBcIiB7e21vcmUgJ2VtYmVkJ319XCI7XG4gIGFzdEVxdWFsKFxuICAgIHQsXG4gICAgYi5wcm9ncmFtKFtcbiAgICAgIGIubXVzdGFjaGUoYi5wYXRoKCdlbWJlZCcpKSxcbiAgICAgIGIudGV4dCgnICcpLFxuICAgICAgYi5tdXN0YWNoZShiLnBhdGgoJ3NvbWUnKSwgW2Iuc3RyaW5nKCdjb250ZW50JyldKSxcbiAgICAgIGIudGV4dCgnICcpLFxuICAgICAgYi5lbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgW1xuICAgICAgICAgICdhdHRycycsXG4gICAgICAgICAgW1xuICAgICAgICAgICAgJ2NsYXNzJyxcbiAgICAgICAgICAgIGIuY29uY2F0KFtcbiAgICAgICAgICAgICAgYi5tdXN0YWNoZSgnZm9vJyksXG4gICAgICAgICAgICAgIGIudGV4dCgnICcpLFxuICAgICAgICAgICAgICBiLm11c3RhY2hlKFxuICAgICAgICAgICAgICAgICdiaW5kLWNsYXNzJyxcbiAgICAgICAgICAgICAgICBbYi5wYXRoKCdpc0VuYWJsZWQnKV0sXG4gICAgICAgICAgICAgICAgYi5oYXNoKFtiLnBhaXIoJ3RydXRoeScsIGIuc3RyaW5nKCdlbmFibGVkJykpXSlcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIF0pLFxuICAgICAgICAgIF0sXG4gICAgICAgIF0sXG4gICAgICAgIFsnYm9keScsIGIubXVzdGFjaGUoYi5wYXRoKCdjb250ZW50JykpXVxuICAgICAgKSxcbiAgICAgIGIudGV4dCgnICcpLFxuICAgICAgYi5tdXN0YWNoZShiLnBhdGgoJ21vcmUnKSwgW2Iuc3RyaW5nKCdlbWJlZCcpXSksXG4gICAgXSlcbiAgKTtcbn0pO1xuXG50ZXN0KCdTaW1wbGUgZW1iZWRkZWQgYmxvY2sgaGVscGVycycsIGZ1bmN0aW9uKCkge1xuICBsZXQgdCA9ICd7eyNpZiBmb299fTxkaXY+e3tjb250ZW50fX08L2Rpdj57ey9pZn19JztcbiAgYXN0RXF1YWwoXG4gICAgdCxcbiAgICBiLnByb2dyYW0oW1xuICAgICAgYi5ibG9jayhcbiAgICAgICAgYi5wYXRoKCdpZicpLFxuICAgICAgICBbYi5wYXRoKCdmb28nKV0sXG4gICAgICAgIGIuaGFzaCgpLFxuICAgICAgICBiLmJsb2NrSXRzZWxmKFtiLmVsZW1lbnQoJ2RpdicsIFsnYm9keScsIGIubXVzdGFjaGUoYi5wYXRoKCdjb250ZW50JykpXSldKVxuICAgICAgKSxcbiAgICBdKVxuICApO1xufSk7XG5cbnRlc3QoJ0ludm9sdmVkIGJsb2NrIGhlbHBlcicsIGZ1bmN0aW9uKCkge1xuICBsZXQgdCA9XG4gICAgJzxwPmhpPC9wPiBjb250ZW50IHt7I3Rlc3Rpbmcgc2hvdWxkUmVuZGVyfX08cD5BcHBlYXJzITwvcD57ey90ZXN0aW5nfX0gbW9yZSA8ZW0+Y29udGVudDwvZW0+IGhlcmUnO1xuICBhc3RFcXVhbChcbiAgICB0LFxuICAgIGIucHJvZ3JhbShbXG4gICAgICBiLmVsZW1lbnQoJ3AnLCBbJ2JvZHknLCBiLnRleHQoJ2hpJyldKSxcbiAgICAgIGIudGV4dCgnIGNvbnRlbnQgJyksXG4gICAgICBiLmJsb2NrKFxuICAgICAgICBiLnBhdGgoJ3Rlc3RpbmcnKSxcbiAgICAgICAgW2IucGF0aCgnc2hvdWxkUmVuZGVyJyldLFxuICAgICAgICBiLmhhc2goKSxcbiAgICAgICAgYi5ibG9ja0l0c2VsZihbYi5lbGVtZW50KCdwJywgWydib2R5JywgYi50ZXh0KCdBcHBlYXJzIScpXSldKVxuICAgICAgKSxcbiAgICAgIGIudGV4dCgnIG1vcmUgJyksXG4gICAgICBiLmVsZW1lbnQoJ2VtJywgWydib2R5JywgYi50ZXh0KCdjb250ZW50JyldKSxcbiAgICAgIGIudGV4dCgnIGhlcmUnKSxcbiAgICBdKVxuICApO1xufSk7XG5cbnRlc3QoJ0VsZW1lbnQgbW9kaWZpZXJzJywgZnVuY3Rpb24oKSB7XG4gIGxldCB0ID0gXCI8cCB7e2FjdGlvbiAnYm9vbSd9fSBjbGFzcz0nYmFyJz5Tb21lIGNvbnRlbnQ8L3A+XCI7XG4gIGFzdEVxdWFsKFxuICAgIHQsXG4gICAgYi5wcm9ncmFtKFtcbiAgICAgIGIuZWxlbWVudChcbiAgICAgICAgJ3AnLFxuICAgICAgICBbJ2F0dHJzJywgWydjbGFzcycsICdiYXInXV0sXG4gICAgICAgIFsnbW9kaWZpZXJzJywgWydhY3Rpb24nLCBbYi5zdHJpbmcoJ2Jvb20nKV1dXSxcbiAgICAgICAgWydib2R5JywgYi50ZXh0KCdTb21lIGNvbnRlbnQnKV1cbiAgICAgICksXG4gICAgXSlcbiAgKTtcbn0pO1xuXG50ZXN0KCdUb2tlbml6ZXI6IE11c3RhY2hlU3RhdGVtZW50IGVuY291bnRlcmVkIGluIGJlZm9yZUF0dHJpYnV0ZU5hbWUgc3RhdGUnLCBmdW5jdGlvbigpIHtcbiAgbGV0IHQgPSAnPGlucHV0IHt7YmFyfX0+JztcbiAgYXN0RXF1YWwodCwgYi5wcm9ncmFtKFtiLmVsZW1lbnQoJ2lucHV0JywgWydtb2RpZmllcnMnLCAnYmFyJ10pXSkpO1xufSk7XG5cbnRlc3QoJ1Rva2VuaXplcjogTXVzdGFjaGVTdGF0ZW1lbnQgZW5jb3VudGVyZWQgaW4gYXR0cmlidXRlTmFtZSBzdGF0ZScsIGZ1bmN0aW9uKCkge1xuICBsZXQgdCA9ICc8aW5wdXQgZm9ve3tiYXJ9fT4nO1xuICBhc3RFcXVhbCh0LCBiLnByb2dyYW0oW2IuZWxlbWVudCgnaW5wdXQnLCBbJ2F0dHJzJywgWydmb28nLCAnJ11dLCBbJ21vZGlmaWVycycsIFsnYmFyJ11dKV0pKTtcbn0pO1xuXG50ZXN0KCdUb2tlbml6ZXI6IE11c3RhY2hlU3RhdGVtZW50IGVuY291bnRlcmVkIGluIGFmdGVyQXR0cmlidXRlTmFtZSBzdGF0ZScsIGZ1bmN0aW9uKCkge1xuICBsZXQgdCA9ICc8aW5wdXQgZm9vIHt7YmFyfX0+JztcbiAgYXN0RXF1YWwodCwgYi5wcm9ncmFtKFtiLmVsZW1lbnQoJ2lucHV0JywgWydhdHRycycsIFsnZm9vJywgJyddXSwgWydtb2RpZmllcnMnLCAnYmFyJ10pXSkpO1xufSk7XG5cbnRlc3QoJ1Rva2VuaXplcjogTXVzdGFjaGVTdGF0ZW1lbnQgZW5jb3VudGVyZWQgaW4gYWZ0ZXJBdHRyaWJ1dGVWYWx1ZSBzdGF0ZScsIGZ1bmN0aW9uKCkge1xuICBsZXQgdCA9ICc8aW5wdXQgZm9vPTEge3tiYXJ9fT4nO1xuICBhc3RFcXVhbCh0LCBiLnByb2dyYW0oW2IuZWxlbWVudCgnaW5wdXQnLCBbJ2F0dHJzJywgWydmb28nLCAnMSddXSwgWydtb2RpZmllcnMnLCBbJ2JhciddXSldKSk7XG59KTtcblxudGVzdCgnVG9rZW5pemVyOiBNdXN0YWNoZVN0YXRlbWVudCBlbmNvdW50ZXJlZCBpbiBhZnRlckF0dHJpYnV0ZVZhbHVlUXVvdGVkIHN0YXRlJywgZnVuY3Rpb24oKSB7XG4gIGxldCB0ID0gXCI8aW5wdXQgZm9vPScxJ3t7YmFyfX0+XCI7XG4gIGFzdEVxdWFsKHQsIGIucHJvZ3JhbShbYi5lbGVtZW50KCdpbnB1dCcsIFsnYXR0cnMnLCBbJ2ZvbycsICcxJ11dLCBbJ21vZGlmaWVycycsICdiYXInXSldKSk7XG59KTtcblxudGVzdCgnU3RyaXBwaW5nIC0gbXVzdGFjaGVzJywgZnVuY3Rpb24oKSB7XG4gIGxldCB0ID0gJ2ZvbyB7e35jb250ZW50fX0gYmFyJztcbiAgYXN0RXF1YWwoXG4gICAgdCxcbiAgICBiLnByb2dyYW0oW1xuICAgICAgYi50ZXh0KCdmb28nKSxcbiAgICAgIGIubXVzdGFjaGUoYi5wYXRoKCdjb250ZW50JyksIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwge1xuICAgICAgICBvcGVuOiB0cnVlLFxuICAgICAgICBjbG9zZTogZmFsc2UsXG4gICAgICB9KSxcbiAgICAgIGIudGV4dCgnIGJhcicpLFxuICAgIF0pXG4gICk7XG5cbiAgdCA9ICdmb28ge3tjb250ZW50fn19IGJhcic7XG4gIGFzdEVxdWFsKFxuICAgIHQsXG4gICAgYi5wcm9ncmFtKFtcbiAgICAgIGIudGV4dCgnZm9vICcpLFxuICAgICAgYi5tdXN0YWNoZShiLnBhdGgoJ2NvbnRlbnQnKSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB7XG4gICAgICAgIG9wZW46IGZhbHNlLFxuICAgICAgICBjbG9zZTogdHJ1ZSxcbiAgICAgIH0pLFxuICAgICAgYi50ZXh0KCdiYXInKSxcbiAgICBdKVxuICApO1xufSk7XG5cbnRlc3QoJ1N0cmlwcGluZyAtIGJsb2NrcycsIGZ1bmN0aW9uKCkge1xuICBsZXQgdCA9ICdmb28ge3t+I3dhdH19e3svd2F0fX0gYmFyJztcbiAgYXN0RXF1YWwoXG4gICAgdCxcbiAgICBiLnByb2dyYW0oW1xuICAgICAgYi50ZXh0KCdmb28nKSxcbiAgICAgIGIuYmxvY2soYi5wYXRoKCd3YXQnKSwgW10sIGIuaGFzaCgpLCBiLmJsb2NrSXRzZWxmKCksIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB7XG4gICAgICAgIG9wZW46IHRydWUsXG4gICAgICAgIGNsb3NlOiBmYWxzZSxcbiAgICAgIH0pLFxuICAgICAgYi50ZXh0KCcgYmFyJyksXG4gICAgXSlcbiAgKTtcblxuICB0ID0gJ2ZvbyB7eyN3YXR9fXt7L3dhdH59fSBiYXInO1xuICBhc3RFcXVhbChcbiAgICB0LFxuICAgIGIucHJvZ3JhbShbXG4gICAgICBiLnRleHQoJ2ZvbyAnKSxcbiAgICAgIGIuYmxvY2soXG4gICAgICAgIGIucGF0aCgnd2F0JyksXG4gICAgICAgIFtdLFxuICAgICAgICBiLmhhc2goKSxcbiAgICAgICAgYi5ibG9ja0l0c2VsZigpLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIHsgb3BlbjogZmFsc2UsIGNsb3NlOiB0cnVlIH1cbiAgICAgICksXG4gICAgICBiLnRleHQoJ2JhcicpLFxuICAgIF0pXG4gICk7XG59KTtcblxudGVzdCgnU3RyaXBwaW5nIC0gcHJvZ3JhbXMnLCBmdW5jdGlvbigpIHtcbiAgbGV0IHQgPSAne3sjd2F0fn19IGZvbyB7e2Vsc2V9fXt7L3dhdH19JztcbiAgYXN0RXF1YWwoXG4gICAgdCxcbiAgICBiLnByb2dyYW0oW1xuICAgICAgYi5ibG9jayhcbiAgICAgICAgYi5wYXRoKCd3YXQnKSxcbiAgICAgICAgW10sXG4gICAgICAgIGIuaGFzaCgpLFxuICAgICAgICBiLmJsb2NrSXRzZWxmKFtiLnRleHQoJ2ZvbyAnKV0pLFxuICAgICAgICBiLmJsb2NrSXRzZWxmKCksXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgeyBvcGVuOiBmYWxzZSwgY2xvc2U6IHRydWUgfVxuICAgICAgKSxcbiAgICBdKVxuICApO1xuXG4gIHQgPSAne3sjd2F0fX0gZm9vIHt7fmVsc2V9fXt7L3dhdH19JztcbiAgYXN0RXF1YWwoXG4gICAgdCxcbiAgICBiLnByb2dyYW0oW1xuICAgICAgYi5ibG9jayhcbiAgICAgICAgYi5wYXRoKCd3YXQnKSxcbiAgICAgICAgW10sXG4gICAgICAgIGIuaGFzaCgpLFxuICAgICAgICBiLmJsb2NrSXRzZWxmKFtiLnRleHQoJyBmb28nKV0pLFxuICAgICAgICBiLmJsb2NrSXRzZWxmKCksXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICB7IG9wZW46IHRydWUsIGNsb3NlOiBmYWxzZSB9XG4gICAgICApLFxuICAgIF0pXG4gICk7XG5cbiAgdCA9ICd7eyN3YXR9fXt7ZWxzZX59fSBmb28ge3svd2F0fX0nO1xuICBhc3RFcXVhbChcbiAgICB0LFxuICAgIGIucHJvZ3JhbShbXG4gICAgICBiLmJsb2NrKFxuICAgICAgICBiLnBhdGgoJ3dhdCcpLFxuICAgICAgICBbXSxcbiAgICAgICAgYi5oYXNoKCksXG4gICAgICAgIGIuYmxvY2tJdHNlbGYoKSxcbiAgICAgICAgYi5ibG9ja0l0c2VsZihbYi50ZXh0KCdmb28gJyldKSxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIHsgb3BlbjogZmFsc2UsIGNsb3NlOiB0cnVlIH1cbiAgICAgICksXG4gICAgXSlcbiAgKTtcblxuICB0ID0gJ3t7I3dhdH19e3tlbHNlfX0gZm9vIHt7fi93YXR9fSc7XG4gIGFzdEVxdWFsKFxuICAgIHQsXG4gICAgYi5wcm9ncmFtKFtcbiAgICAgIGIuYmxvY2soXG4gICAgICAgIGIucGF0aCgnd2F0JyksXG4gICAgICAgIFtdLFxuICAgICAgICBiLmhhc2goKSxcbiAgICAgICAgYi5ibG9ja0l0c2VsZigpLFxuICAgICAgICBiLmJsb2NrSXRzZWxmKFtiLnRleHQoJyBmb28nKV0pLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICB7IG9wZW46IHRydWUsIGNsb3NlOiBmYWxzZSB9XG4gICAgICApLFxuICAgIF0pXG4gICk7XG59KTtcblxudGVzdCgnU3RyaXBwaW5nIC0gcmVtb3ZlcyB1bm5lY2Vzc2FyeSB0ZXh0IG5vZGVzJywgZnVuY3Rpb24oKSB7XG4gIGxldCB0ID0gJ3t7I2VhY2h+fX1cXG4gIDxsaT4gZm9vIDwvbGk+XFxue3t+L2VhY2h9fSc7XG5cbiAgYXN0RXF1YWwoXG4gICAgdCxcbiAgICBiLnByb2dyYW0oW1xuICAgICAgYi5ibG9jayhcbiAgICAgICAgYi5wYXRoKCdlYWNoJyksXG4gICAgICAgIFtdLFxuICAgICAgICBiLmhhc2goKSxcbiAgICAgICAgYi5ibG9ja0l0c2VsZihbYi5lbGVtZW50KCdsaScsIFsnYm9keScsIGIudGV4dCgnIGZvbyAnKV0pXSksXG4gICAgICAgIG51bGwsXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgeyBvcGVuOiBmYWxzZSwgY2xvc2U6IHRydWUgfSxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICB7IG9wZW46IHRydWUsIGNsb3NlOiBmYWxzZSB9XG4gICAgICApLFxuICAgIF0pXG4gICk7XG59KTtcblxudGVzdCgnV2hpdGVzcGFjZSBjb250cm9sIC0gbGluZWJyZWFrcyBhZnRlciBibG9ja3MgcmVtb3ZlZCBieSBkZWZhdWx0JywgZnVuY3Rpb24oKSB7XG4gIGxldCB0ID0gJ3t7I2VhY2h9fVxcbiAgPGxpPiBmb28gPC9saT5cXG57ey9lYWNofX0nO1xuXG4gIGFzdEVxdWFsKFxuICAgIHQsXG4gICAgYi5wcm9ncmFtKFtcbiAgICAgIGIuYmxvY2soXG4gICAgICAgIGIucGF0aCgnZWFjaCcpLFxuICAgICAgICBbXSxcbiAgICAgICAgYi5oYXNoKCksXG4gICAgICAgIGIuYmxvY2tJdHNlbGYoW2IudGV4dCgnICAnKSwgYi5lbGVtZW50KCdsaScsIFsnYm9keScsIGIudGV4dCgnIGZvbyAnKV0pLCBiLnRleHQoJ1xcbicpXSksXG4gICAgICAgIG51bGxcbiAgICAgICksXG4gICAgXSlcbiAgKTtcbn0pO1xuXG50ZXN0KCdXaGl0ZXNwYWNlIGNvbnRyb2wgLSBwcmVzZXJ2ZSBhbGwgd2hpdGVzcGFjZSBpZiBjb25maWcgaXMgc2V0JywgZnVuY3Rpb24oKSB7XG4gIGxldCB0ID0gJ3t7I2VhY2h9fVxcbiAgPGxpPiBmb28gPC9saT5cXG57ey9lYWNofX0nO1xuXG4gIGFzdEVxdWFsKFxuICAgIHQsXG4gICAgYi5wcm9ncmFtKFtcbiAgICAgIGIuYmxvY2soXG4gICAgICAgIGIucGF0aCgnZWFjaCcpLFxuICAgICAgICBbXSxcbiAgICAgICAgYi5oYXNoKCksXG4gICAgICAgIGIuYmxvY2tJdHNlbGYoW2IudGV4dCgnXFxuICAnKSwgYi5lbGVtZW50KCdsaScsIFsnYm9keScsIGIudGV4dCgnIGZvbyAnKV0pLCBiLnRleHQoJ1xcbicpXSksXG4gICAgICAgIG51bGxcbiAgICAgICksXG4gICAgXSksXG4gICAgdW5kZWZpbmVkLFxuICAgIHtcbiAgICAgIHBhcnNlT3B0aW9uczogeyBpZ25vcmVTdGFuZGFsb25lOiB0cnVlIH0sXG4gICAgfVxuICApO1xufSk7XG5cbi8vIFRPRE86IE1ha2UgdGhlc2UgdGhyb3cgYW4gZXJyb3IuXG4vL3Rlc3QoXCJBd2t3YXJkIG11c3RhY2hlIGluIHVucXVvdGVkIGF0dHJpYnV0ZSB2YWx1ZVwiLCBmdW5jdGlvbigpIHtcbi8vICBsZXQgdCA9IFwiPGRpdiBjbGFzcz1he3tmb299fT48L2Rpdj5cIjtcbi8vICBhc3RFcXVhbCh0LCBiLnByb2dyYW0oW1xuLy8gICAgYi5lbGVtZW50KCdkaXYnLCBbIGIuYXR0cignY2xhc3MnLCBjb25jYXQoW2Iuc3RyaW5nKFwiYVwiKSwgYi5zZXhwcihbYi5wYXRoKCdmb28nKV0pXSkpIF0pXG4vLyAgXSkpO1xuLy9cbi8vICB0ID0gXCI8ZGl2IGNsYXNzPWF7e2Zvb319Yj48L2Rpdj5cIjtcbi8vICBhc3RFcXVhbCh0LCBiLnByb2dyYW0oW1xuLy8gICAgYi5lbGVtZW50KCdkaXYnLCBbIGIuYXR0cignY2xhc3MnLCBjb25jYXQoW2Iuc3RyaW5nKFwiYVwiKSwgYi5zZXhwcihbYi5wYXRoKCdmb28nKV0pLCBiLnN0cmluZyhcImJcIildKSkgXSlcbi8vICBdKSk7XG4vL1xuLy8gIHQgPSBcIjxkaXYgY2xhc3M9e3tmb299fWI+PC9kaXY+XCI7XG4vLyAgYXN0RXF1YWwodCwgYi5wcm9ncmFtKFtcbi8vICAgIGIuZWxlbWVudCgnZGl2JywgWyBiLmF0dHIoJ2NsYXNzJywgY29uY2F0KFtiLnNleHByKFtiLnBhdGgoJ2ZvbycpXSksIGIuc3RyaW5nKFwiYlwiKV0pKSBdKVxuLy8gIF0pKTtcbi8vfSk7XG5cbnRlc3QoJ2FuIEhUTUwgY29tbWVudCcsIGZ1bmN0aW9uKCkge1xuICBsZXQgdCA9ICdiZWZvcmUgPCEtLSBzb21lIGNvbW1lbnQgLS0+IGFmdGVyJztcbiAgYXN0RXF1YWwodCwgYi5wcm9ncmFtKFtiLnRleHQoJ2JlZm9yZSAnKSwgYi5jb21tZW50KCcgc29tZSBjb21tZW50ICcpLCBiLnRleHQoJyBhZnRlcicpXSkpO1xufSk7XG5cbnRlc3QoJ2EgSGFuZGxlYmFycyBjb21tZW50IGluc2lkZSBhbiBIVE1MIGNvbW1lbnQnLCBmdW5jdGlvbigpIHtcbiAgbGV0IHQgPSAnYmVmb3JlIDwhLS0gc29tZSB7eyEgbmVzdGVkIHRoaW5nIH19IGNvbW1lbnQgLS0+IGFmdGVyJztcbiAgYXN0RXF1YWwoXG4gICAgdCxcbiAgICBiLnByb2dyYW0oW1xuICAgICAgYi50ZXh0KCdiZWZvcmUgJyksXG4gICAgICBiLmNvbW1lbnQoJyBzb21lIHt7ISBuZXN0ZWQgdGhpbmcgfX0gY29tbWVudCAnKSxcbiAgICAgIGIudGV4dCgnIGFmdGVyJyksXG4gICAgXSlcbiAgKTtcbn0pO1xuXG50ZXN0KCdhIEhhbmRsZWJhcnMgY29tbWVudCcsIGZ1bmN0aW9uKCkge1xuICBsZXQgdCA9ICdiZWZvcmUge3shIHNvbWUgY29tbWVudCB9fSBhZnRlcic7XG4gIGFzdEVxdWFsKFxuICAgIHQsXG4gICAgYi5wcm9ncmFtKFtiLnRleHQoJ2JlZm9yZSAnKSwgYi5tdXN0YWNoZUNvbW1lbnQoJyBzb21lIGNvbW1lbnQgJyksIGIudGV4dCgnIGFmdGVyJyldKVxuICApO1xufSk7XG5cbnRlc3QoJ2EgSGFuZGxlYmFycyBjb21tZW50IGluIHByb3BlciBlbGVtZW50IHNwYWNlJywgZnVuY3Rpb24oKSB7XG4gIGxldCB0ID0gJ2JlZm9yZSA8ZGl2IHt7ISBzb21lIGNvbW1lbnQgfX0gZGF0YS1mb289XCJiYXJcIiB7eyEgb3RoZXIgY29tbWVudCB9fT48L2Rpdj4gYWZ0ZXInO1xuICBhc3RFcXVhbChcbiAgICB0LFxuICAgIGIucHJvZ3JhbShbXG4gICAgICBiLnRleHQoJ2JlZm9yZSAnKSxcbiAgICAgIGIuZWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIFsnYXR0cnMnLCBbJ2RhdGEtZm9vJywgYi50ZXh0KCdiYXInKV1dLFxuICAgICAgICBbJ2NvbW1lbnRzJywgYi5tdXN0YWNoZUNvbW1lbnQoJyBzb21lIGNvbW1lbnQgJyksIGIubXVzdGFjaGVDb21tZW50KCcgb3RoZXIgY29tbWVudCAnKV1cbiAgICAgICksXG4gICAgICBiLnRleHQoJyBhZnRlcicpLFxuICAgIF0pXG4gICk7XG59KTtcblxudGVzdCgnYSBIYW5kbGViYXJzIGNvbW1lbnQgaW4gaW52YWxpZCBlbGVtZW50IHNwYWNlJywgZnVuY3Rpb24oYXNzZXJ0KSB7XG4gIGFzc2VydC50aHJvd3MoKCkgPT4ge1xuICAgIHBhcnNlKCdcXG5iZWZvcmUgPGRpdiBcXG4gIGF7eyEgc29tZSBjb21tZW50IH19IGRhdGEtZm9vPVwiYmFyXCI+PC9kaXY+IGFmdGVyJyk7XG4gIH0sIC9Vc2luZyBhIEhhbmRsZWJhcnMgY29tbWVudCB3aGVuIGluIHRoZSBgYXR0cmlidXRlTmFtZWAgc3RhdGUgaXMgbm90IHN1cHBvcnRlZDogXCIgc29tZSBjb21tZW50IFwiIG9uIGxpbmUgMzozLyk7XG5cbiAgYXNzZXJ0LnRocm93cygoKSA9PiB7XG4gICAgcGFyc2UoJ1xcbmJlZm9yZSA8ZGl2IFxcbiAgYT17eyEgc29tZSBjb21tZW50IH19IGRhdGEtZm9vPVwiYmFyXCI+PC9kaXY+IGFmdGVyJyk7XG4gIH0sIC9Vc2luZyBhIEhhbmRsZWJhcnMgY29tbWVudCB3aGVuIGluIHRoZSBgYmVmb3JlQXR0cmlidXRlVmFsdWVgIHN0YXRlIGlzIG5vdCBzdXBwb3J0ZWQ6IFwiIHNvbWUgY29tbWVudCBcIiBvbiBsaW5lIDM6NC8pO1xuXG4gIGFzc2VydC50aHJvd3MoKCkgPT4ge1xuICAgIHBhcnNlKCdcXG5iZWZvcmUgPGRpdiBcXG4gIGE9XCJ7eyEgc29tZSBjb21tZW50IH19XCIgZGF0YS1mb289XCJiYXJcIj48L2Rpdj4gYWZ0ZXInKTtcbiAgfSwgL1VzaW5nIGEgSGFuZGxlYmFycyBjb21tZW50IHdoZW4gaW4gdGhlIGBhdHRyaWJ1dGVWYWx1ZURvdWJsZVF1b3RlZGAgc3RhdGUgaXMgbm90IHN1cHBvcnRlZDogXCIgc29tZSBjb21tZW50IFwiIG9uIGxpbmUgMzo1Lyk7XG59KTtcblxudGVzdCgnYWxsb3cge3tudWxsfX0gdG8gYmUgcGFzc2VkIGFzIGhlbHBlciBuYW1lJywgZnVuY3Rpb24oKSB7XG4gIGxldCBhc3QgPSBwYXJzZSgne3tudWxsfX0nKTtcblxuICBhc3RFcXVhbChhc3QsIGIucHJvZ3JhbShbYi5tdXN0YWNoZShiLm51bGwoKSldKSk7XG59KTtcblxudGVzdCgnYWxsb3cge3tudWxsfX0gdG8gYmUgcGFzc2VkIGFzIGEgcGFyYW0nLCBmdW5jdGlvbigpIHtcbiAgbGV0IGFzdCA9IHBhcnNlKCd7e2ZvbyBudWxsfX0nKTtcblxuICBhc3RFcXVhbChhc3QsIGIucHJvZ3JhbShbYi5tdXN0YWNoZShiLnBhdGgoJ2ZvbycpLCBbYi5udWxsKCldKV0pKTtcbn0pO1xuXG50ZXN0KCdhbGxvdyB7e3VuZGVmaW5lZH19IHRvIGJlIHBhc3NlZCBhcyBoZWxwZXIgbmFtZScsIGZ1bmN0aW9uKCkge1xuICBsZXQgYXN0ID0gcGFyc2UoJ3t7dW5kZWZpbmVkfX0nKTtcblxuICBhc3RFcXVhbChhc3QsIGIucHJvZ3JhbShbYi5tdXN0YWNoZShiLnVuZGVmaW5lZCgpKV0pKTtcbn0pO1xuXG50ZXN0KCdhbGxvdyB7e3VuZGVmaW5lZH19IHRvIGJlIHBhc3NlZCBhcyBhIHBhcmFtJywgZnVuY3Rpb24oKSB7XG4gIGxldCBhc3QgPSBwYXJzZSgne3tmb28gdW5kZWZpbmVkfX0nKTtcblxuICBhc3RFcXVhbChhc3QsIGIucHJvZ3JhbShbYi5tdXN0YWNoZShiLnBhdGgoJ2ZvbycpLCBbYi51bmRlZmluZWQoKV0pXSkpO1xufSk7XG5cbnRlc3QoJ0hhbmRsZWJhcnMgcGFydGlhbCBzaG91bGQgZXJyb3InLCBmdW5jdGlvbihhc3NlcnQpIHtcbiAgYXNzZXJ0LnRocm93cygoKSA9PiB7XG4gICAgcGFyc2UoJ3t7PiBmb299fScpO1xuICB9LCBFcnJvcihgSGFuZGxlYmFycyBwYXJ0aWFscyBhcmUgbm90IHN1cHBvcnRlZDogXCJ7ez4gZm9vXCIgYXQgTDE6QzBgKSk7XG59KTtcblxudGVzdCgnSGFuZGxlYmFycyBwYXJ0aWFsIGJsb2NrIHNob3VsZCBlcnJvcicsIGZ1bmN0aW9uKGFzc2VydCkge1xuICBhc3NlcnQudGhyb3dzKCgpID0+IHtcbiAgICBwYXJzZSgne3sjPiBmb299fXt7L2Zvb319Jyk7XG4gIH0sIG5ldyBFcnJvcihgSGFuZGxlYmFycyBwYXJ0aWFsIGJsb2NrcyBhcmUgbm90IHN1cHBvcnRlZDogXCJ7eyM+IGZvb1wiIGF0IEwxOkMwYCkpO1xufSk7XG5cbnRlc3QoJ0hhbmRsZWJhcnMgZGVjb3JhdG9yIHNob3VsZCBlcnJvcicsIGZ1bmN0aW9uKGFzc2VydCkge1xuICBhc3NlcnQudGhyb3dzKCgpID0+IHtcbiAgICBwYXJzZSgne3sqIGZvb319Jyk7XG4gIH0sIG5ldyBFcnJvcihgSGFuZGxlYmFycyBkZWNvcmF0b3JzIGFyZSBub3Qgc3VwcG9ydGVkOiBcInt7KiBmb29cIiBhdCBMMTpDMGApKTtcbn0pO1xuXG50ZXN0KCdIYW5kbGViYXJzIGRlY29yYXRvciBibG9jayBzaG91bGQgZXJyb3InLCBmdW5jdGlvbihhc3NlcnQpIHtcbiAgYXNzZXJ0LnRocm93cygoKSA9PiB7XG4gICAgcGFyc2UoJ3t7IyogZm9vfX17ey9mb299fScpO1xuICB9LCBuZXcgRXJyb3IoYEhhbmRsZWJhcnMgZGVjb3JhdG9yIGJsb2NrcyBhcmUgbm90IHN1cHBvcnRlZDogXCJ7eyMqIGZvb1wiIGF0IEwxOkMwYCkpO1xufSk7XG5cbnRlc3QoJ2Rpc2FsbG93ZWQgbXVzdGFjaGVzIGluIHRoZSB0YWdOYW1lIHNwYWNlJywgZnVuY3Rpb24oYXNzZXJ0KSB7XG4gIGFzc2VydC50aHJvd3MoKCkgPT4ge1xuICAgIHBhcnNlKCc8e3tcImFzZGZcIn19Pjwve3tcImFzZGZcIn19PicpO1xuICB9LCAvQ2Fubm90IHVzZSBtdXN0YWNoZXMgaW4gYW4gZWxlbWVudHMgdGFnbmFtZTogYHt7XCJhc2RmXCJgIGF0IEwxOkMxLyk7XG5cbiAgYXNzZXJ0LnRocm93cygoKSA9PiB7XG4gICAgcGFyc2UoJzxpbnB1dHt7YmFyfX0+Jyk7XG4gIH0sIC9DYW5ub3QgdXNlIG11c3RhY2hlcyBpbiBhbiBlbGVtZW50cyB0YWduYW1lOiBge3tiYXJgIGF0IEwxOkM2Lyk7XG59KTtcblxudGVzdCgnbXVzdGFjaGUgaW1tZWRpYXRlbHkgZm9sbG93ZWQgYnkgc2VsZiBjbG9zaW5nIHRhZyBkb2VzIG5vdCBlcnJvcicsIGZ1bmN0aW9uKCkge1xuICBsZXQgYXN0ID0gcGFyc2UoJzxGb29CYXIgZGF0YS1mb289e3tibGFofX0vPicpO1xuICBsZXQgZWxlbWVudCA9IGIuZWxlbWVudCgnRm9vQmFyLycsIFsnYXR0cnMnLCBbJ2RhdGEtZm9vJywgYi5tdXN0YWNoZSgnYmxhaCcpXV0pO1xuICBhc3RFcXVhbChhc3QsIGIucHJvZ3JhbShbZWxlbWVudF0pKTtcbn0pO1xuXG5RVW5pdC5kdW1wLm1heERlcHRoID0gMTAwO1xuXG50ZXN0KCduYW1lZCBibG9ja3MnLCAoKSA9PiB7XG4gIGxldCBhc3QgPSBwYXJzZShzdHJpcGBcbiAgICA8VGFiPlxuICAgICAgPDpoZWFkZXI+XG4gICAgICAgIEl0J3MgYSBoZWFkZXIhXG4gICAgICA8LzpoZWFkZXI+XG5cbiAgICAgIDw6Ym9keSBhcyB8Y29udGVudHN8PlxuICAgICAgICA8ZGl2Pnt7Y29udGVudHN9fTwvZGl2PlxuICAgICAgPC86Ym9keT5cbiAgICA8L1RhYj5cbiAgYCk7XG5cbiAgbGV0IGVsZW1lbnQgPSBiLmVsZW1lbnQoJ1RhYicsIFtcbiAgICAnYm9keScsXG4gICAgYi5lbGVtZW50KCc6aGVhZGVyJywgWydib2R5JywgYi50ZXh0KGBJdCdzIGEgaGVhZGVyIWApXSksXG4gICAgYi5lbGVtZW50KFxuICAgICAgJzpib2R5JyxcbiAgICAgIFsnYm9keScsIGIuZWxlbWVudCgnZGl2JywgWydib2R5JywgYi5tdXN0YWNoZSgnY29udGVudHMnKV0pXSxcbiAgICAgIFsnYXMnLCAnY29udGVudHMnXVxuICAgICksXG4gIF0pO1xuICBhc3RFcXVhbChhc3QsIGIucHJvZ3JhbShbZWxlbWVudF0pKTtcbn0pO1xuXG50ZXN0KCdwYXRoIGV4cHJlc3Npb24gd2l0aCBcImRhbmdsaW5nIGRvdFwiIHRocm93cyBlcnJvcicsIGZ1bmN0aW9uKGFzc2VydCkge1xuICBhc3NlcnQudGhyb3dzKCgpID0+IHtcbiAgICBwYXJzZSgne3tpZiBmb28uIGJhciBiYXp9fScpO1xuICB9LCAvJ1xcLicgaXMgbm90IGEgc3VwcG9ydGVkIHBhdGggaW4gR2xpbW1lcjsgY2hlY2sgZm9yIGEgcGF0aCB3aXRoIGEgdHJhaWxpbmcgJ1xcLicgYXQgTDE6QzgvKTtcbn0pO1xuXG5leHBvcnQgZnVuY3Rpb24gc3RyaXAoc3RyaW5nczogVGVtcGxhdGVTdHJpbmdzQXJyYXksIC4uLmFyZ3M6IHN0cmluZ1tdKSB7XG4gIHJldHVybiBzdHJpbmdzXG4gICAgLm1hcCgoc3RyOiBzdHJpbmcsIGk6IG51bWJlcikgPT4ge1xuICAgICAgcmV0dXJuIGAke3N0clxuICAgICAgICAuc3BsaXQoJ1xcbicpXG4gICAgICAgIC5tYXAocyA9PiBzLnRyaW0oKSlcbiAgICAgICAgLmpvaW4oJycpfSR7YXJnc1tpXSA/IGFyZ3NbaV0gOiAnJ31gO1xuICAgIH0pXG4gICAgLmpvaW4oJycpO1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==